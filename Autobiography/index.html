<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="../Autobiography/styles.css">
        <title>Tr·∫ßn Th·ªã Kim Chi - Trang C√° Nh√¢n</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    </head>
    <body>
        <div id="shooting-stars-container"></div>
        <header>
            <h1>Tr·∫ßn Th·ªã Kim Chi</h1>
            <div class="contact-info" aria-label="Th√¥ng tin li√™n h·ªá">
                S·ªë ƒëi·ªán tho·∫°i: <a href="tel:0935074853" style="color:#ffc107; text-decoration:none;">0935074853</a> |
                Email: <a href="mailto:chi23675@gmail.com" style="color:#ffc107; text-decoration:none;">chi23675@gmail.com</a>
            </div>
            <div class="social-links" aria-label="Li√™n k·∫øt m·∫°ng x√£ h·ªôi">
                <a href="https://www.facebook.com/eomeoi03/" target="_blank" rel="noopener noreferrer" title="Facebook"><i class="fab fa-facebook"></i></a>
                <a href="https://github.com/kimcheese23" target="_blank" rel="noopener noreferrer" title="GitHub"><i class="fab fa-github"></i></a>
            </div>
            <nav aria-label="Menu ƒëi·ªÅu h∆∞·ªõng ch√≠nh">
                <ul>
                    <li>
                        <button id="btn-biography" onclick="showContent('biography')">Ti·ªÉu S·ª≠</button>
                    </li>
                    <li>
                        <button id="btn-projects" onclick="showContent('projects')">D·ª± √Ån</button>
                    </li>
                    <li>
                        <button id="btn-upload" onclick="showContent('upload')">T·∫£i T√†i Li·ªáu L√™n</button>                    
                    </li>
                    <li>
                        <button id="btn-games" onclick="showContent('games')">Tr√≤ Ch∆°i</button>                    
                    </li>
                </ul>
            </nav>
        </header>
        <main>
            <div id="biography" class="dropdown-content active">
                <p>Xin ch√†o, t·ªõ l√† <strong>Tr·∫ßn Th·ªã Kim Chi</strong>. T·ªõ ƒëam m√™ c√¥ng ngh·ªá, thi·∫øt k·∫ø v√† ph√°t tri·ªÉn web. Qua c√°c d·ª± √°n v√† kinh nghi·ªám c·ªßa m√¨nh, t·ªõ lu√¥n c·ªë g·∫Øng t·∫°o ra nh·ªØng s·∫£n ph·∫©m s√°ng t·∫°o v√† h·ªØu √≠ch. T·ªõ r·∫•t vui ƒë∆∞·ª£c chia s·∫ª nh·ªØng ƒëi·ªÅu n√†y v·ªõi b·∫°n t·∫°i trang c√° nh√¢n c·ªßa m√¨nh. T·ªõ ƒëang tr√™n h√†nh tr√¨nh bi·∫øn nh·ªØng d√≤ng code l·ªói t√® le th√†nh trang web ho·∫°t ƒë·ªông ‚Äî m·ªôt c√°ch t·ª´ t·ªën, l√¨ l·ª£m v√† d·ª±a ho√†n to√†n v√†o Google. Nh∆∞ng kh√¥ng sao! M·ªói l·∫ßn d√≠nh bug l√† t·ªõ h·ªçc th√™m ƒë∆∞·ª£c ƒëi·ªÅu g√¨ ƒë√≥ m·ªõi ‚Äî v√≠ d·ª• nh∆∞ c√°ch kh√≥c sao cho ti·∫øt ki·ªám n∆∞·ªõc m·∫Øt h∆°n. M·ªôt ng√†y n√†o ƒë√≥, t·ªõ s·∫Ω c√≥ m·ªôt c√°i portfolio ƒë·ªß x·ªãn ƒë·ªÉ khoe v·ªõi con m√®o nh√† m√¨nh. C√≤n b√¢y gi·ªù, c·ª© ti·∫øp t·ª•c x√¢y, ph√°, h·ªçc th√¥i!</p>
                <p>üë©‚Äçüíª I'm a web development enthusiast who's currently diving into the world of HTML, CSS, and JavaScript. I'm learning how to use GitHub to manage and share my projects ‚Äî making mistakes, fixing them, and learning a ton along the way. I'm not an expert (yet!), but I love figuring things out step by step. My goal is to build simple, clean websites that actually work ‚Äî and to enjoy the process while I'm at it. I recently started learning HTML, CSS, and JavaScript, and guess what? I now know that a missing semicolon can ruin your whole day. But hey, I'm not giving up. Every bug teaches me something new (like how to cry more efficiently). I'm on a mission to turn broken code into working websites ‚Äî slowly, stubbornly, and with a lot of Google searches. One day I'll make a portfolio I won't be embarrassed to show my cat. Until then, I'll just keep building, breaking, and learning.</p>
            </div>
            <div id="projects" class="dropdown-content" tabindex="0" aria-label="N·ªôi dung d·ª± √°n">
                <ul>
                    <li>Website gi·ªõi thi·ªáu c√° nh√¢n t√≠ch h·ª£p mini game t∆∞∆°ng t√°c</li>
                    <li>·ª®ng d·ª•ng qu·∫£n l√Ω t√†i li·ªáu c√° nh√¢n v·ªõi giao di·ªán th√¢n thi·ªán</li>
                    <li>Game v∆∞·ª£t ch∆∞·ªõng ng·∫°i v·∫≠t ƒë∆°n gi·∫£n b·∫±ng Canvas v√† JavaScript</li>
                    <li>H·ªá th·ªëng ph·∫£n h·ªìi v√† l∆∞u tr·ªØ t√†i li·ªáu d·ª±a tr√™n tr√¨nh duy·ªát</li>
                </ul>
            </div>
            <div id="upload" class="dropdown-content">
                <div id="upload-section">
                    <p>Ch·ªçn t·∫≠p tin ƒë·ªÉ t·∫£i l√™n (ch·ªâ l∆∞u tr·ªØ tr√™n tr√¨nh duy·ªát).</p>
                    <input type="file" id="file-input" aria-label="Ch·ªçn t·∫≠p tin ƒë·ªÉ t·∫£i l√™n" />
                    <button id="upload-btn" type="button" aria-label="N√∫t t·∫£i l√™n">T·∫£i l√™n</button>
                    <p id="upload-status" role="alert" aria-live="polite"></p>
                    <div id="uploaded-files"></div>
                </div>
            </div>
            <div id="games" class="dropdown-content">
                <!-- Bubble Pop Game -->
                <div class="game-container" aria-label="Tr√≤ ch∆°i ch·∫°m bong b√≥ng n·ªï">
                    <h3>Ch·∫°m Bong B√≥ng N·ªï</h3>
                    <div id="bubble-game" aria-describedby="bubble-desc" tabindex="0" role="application"></div>
                    <p id="bubble-desc" class="instructions" style="color:#1e3c72;">Nh·∫•p ho·∫∑c ch·∫°m v√†o c√°c bong b√≥ng ƒë·ªÉ t·∫°o ti·∫øng n·ªï. Bong b√≥ng s·∫Ω n·ªïi l√™n t·ª´ d∆∞·ªõi l√™n.</p>
                    <p>ƒêi·ªÉm: <span id="bubble-score">0</span></p>
                    <button id="bubble-play" type="button" aria-label="N√∫t ch∆°i tr√≤ bong b√≥ng">Ch∆°i</button>
                    <button id="bubble-reset" type="button" aria-label="N√∫t ch∆°i l·∫°i tr√≤ bong b√≥ng" disabled>Ch∆°i L·∫°i</button>
                </div>
            </div>
        </main>
        <footer>
            <div id="music-player">
                <label for="music-url">D√°n URL YouTube ho·∫∑c Spotify ƒë·ªÉ ph√°t nh·∫°c:</label>
                <input type="text" id="music-url" placeholder="V√≠ d·ª•: https://www.youtube.com/watch?v=dQw4w9WgXcQ" aria-label="Nh·∫≠p URL nh·∫°c" />
                <button id="load-music" aria-label="Ph√°t nh·∫°c t·ª´ URL">Ph√°t nh·∫°c</button>
                <div id="music-container" aria-live="polite" aria-atomic="true"></div>
            </div>
        </footer>

        <script>
            // Generate snowflakes
            const snowflakeChars = ['‚ùÑ', '‚ùÖ', '‚ùÜ'];
            function createSnowflake() {
                const snowflake = document.createElement('div');
                snowflake.classList.add('snowflake');
                snowflake.textContent = snowflakeChars[Math.floor(Math.random()*snowflakeChars.length)];
                snowflake.style.left = Math.random() * 100 + 'vw';
                snowflake.style.fontSize = (Math.random()*16 + 8) + 'px';
                snowflake.style.animationDuration = (Math.random()*10 + 10) + 's, ' + ((Math.random()*4) + 3) + 's';
                snowflake.style.animationDelay = '0s, ' + (Math.random()*4) + 's';
                document.body.appendChild(snowflake);
                setTimeout(() => {
                    snowflake.remove();
                }, 15000);
            }
            setInterval(createSnowflake, 200);

            // Shooting stars container and logic
            const shootingStarsContainer = document.getElementById('shooting-stars-container');
            function createShootingStar() {
                const star = document.createElement('div');
                star.classList.add('shooting-star');
                star.style.top = (Math.random() * 40 + 10) + 'vh';
                star.style.left = '100vw';
                star.style.opacity = Math.random() * 0.5 + 0.5;
                star.style.animationDuration = (Math.random() * 1.2 + 2.5) + 's';
                shootingStarsContainer.appendChild(star);
                const angle = Math.random() * -30 - 30; // t·ª´ -30 ƒë·∫øn -60 ƒë·ªô
                star.style.transform = `rotate(${angle}deg)`;
                star.animate(
                    [
                        { transform: `translateX(0) translateY(0) rotate(${angle}deg)`, opacity: star.style.opacity },
                        { transform: `translateX(-120vw) translateY(50vh) rotate(${angle}deg)`, opacity: 0 }
                    ],
                    {
                        duration: parseFloat(star.style.animationDuration) * 1000,
                        easing: 'ease-in-out'
                    }
                ).onfinish = () => star.remove();
            }
            
            setInterval(() => {
                const starCount = Math.floor(Math.random() * 5) + 1; // t·ª´ 5 ƒë·∫øn 10 sao
                for (let i = 0; i < starCount; i++) {
                    createShootingStar();
                }
            }, 3500);
            
            function randomShootingStars() {
                const delay = Math.random() * 1500 + 500; 
                createShootingStar();
                setTimeout(randomShootingStars, delay);
            }

            randomShootingStars();
            
            // Navigation toggle logic
            function showContent(id) {
                const contents = document.querySelectorAll('.dropdown-content');
                contents.forEach(content => {
                    content.classList.remove('dropdown-content-active');
                    content.classList.remove('active');
                });
                document.getElementById(id).classList.add('dropdown-content-active');
                document.getElementById(id).classList.add('active');
            }

            // Document Storage and Upload with localStorage
            const fileInput = document.getElementById('file-input');
            const uploadBtn = document.getElementById('upload-btn');
            const uploadedFilesContainer = document.getElementById('uploaded-files');
            const uploadStatus = document.getElementById('upload-status');

            function loadFiles() {
                let files = JSON.parse(localStorage.getItem('uploadedFiles') || '[]');
                if(files.length === 0) {
                    uploadedFilesContainer.innerHTML = "<p>Kh√¥ng c√≥ t√†i li·ªáu n√†o ƒë∆∞·ª£c t·∫£i l√™n.</p>";
                } else {
                    const ul = document.createElement('ul');
                    files.forEach((file, i) => {
                        const li = document.createElement('li');
                        const span = document.createElement('span');
                        span.textContent = file.name;
                        const btn = document.createElement('button');
                        btn.textContent = 'X√≥a';
                        btn.setAttribute('aria-label', 'X√≥a ' + file.name);
                        btn.addEventListener('click', () => {
                            files.splice(i,1);
                            localStorage.setItem('uploadedFiles', JSON.stringify(files));
                            loadFiles();
                        });
                        li.appendChild(span);
                        li.appendChild(btn);
                        ul.appendChild(li);
                    });
                    uploadedFilesContainer.innerHTML = '';
                    uploadedFilesContainer.appendChild(ul);
                }
            }

            uploadBtn.addEventListener('click', () => {
                const file = fileInput.files[0];
                if(!file){
                    uploadStatus.textContent = 'Vui l√≤ng ch·ªçn m·ªôt t·∫≠p tin!';
                    uploadStatus.style.color = 'red';
                    return;
                }
                let files = JSON.parse(localStorage.getItem('uploadedFiles') || '[]');
                files.push({name: file.name});
                localStorage.setItem('uploadedFiles', JSON.stringify(files));
                uploadStatus.textContent = 'T·∫≠p tin "' + file.name + '" ƒë√£ ƒë∆∞·ª£c l∆∞u trong tr√¨nh duy·ªát.';
                uploadStatus.style.color = 'limegreen';
                fileInput.value = '';
                loadFiles();
            });

            loadFiles();

            // Bubble Pop Game
            const bubbleGame = document.getElementById('bubble-game');
            const bubbleScoreEl = document.getElementById('bubble-score');
            const bubblePlayBtn = document.getElementById('bubble-play');
            const bubbleResetBtn = document.getElementById('bubble-reset');

            let bubbleScore = 0;
            let bubbleInterval;
            let bubbles = [];
            let bubbleRunning = false;

            function createBubble() {
                if (!bubbleRunning) return;
                const bubble = document.createElement('div');
                bubble.classList.add('bubble');
                const size = Math.random() * 40 + 30;
                bubble.style.width = size + 'px';
                bubble.style.height = size + 'px';
                bubble.style.left = Math.random() * (bubbleGame.clientWidth - size) + 'px';
                bubble.style.bottom = '-'+ size + 'px';
                bubble.style.animationDuration = (Math.random()*5 + 5) + 's';
                bubbleGame.appendChild(bubble);

                function popBubble() {
                    bubble.removeEventListener('click', popBubble);
                    bubble.classList.add('pop');
                    bubble.style.pointerEvents = 'none';
                    bubbleScore++;
                    bubbleScoreEl.textContent = bubbleScore;
                    setTimeout(() => {
                        if(bubble.parentNode) bubbleGame.removeChild(bubble);
                        bubbles = bubbles.filter(b => b !== bubble);
                    }, 300);
                }

                bubble.addEventListener('click', popBubble);
                bubbles.push(bubble);

                bubble.addEventListener('animationend', () => {
                    if(bubble.parentNode) {
                        bubbleGame.removeChild(bubble);
                        bubbles = bubbles.filter(b => b !== bubble);
                    }
                });
            }

            function startBubbleGame(){
                if(bubbleRunning) return;
                bubbleRunning = true;
                bubbleScore = 0;
                bubbleScoreEl.textContent = bubbleScore;
                bubblePlayBtn.disabled = true;
                bubbleResetBtn.disabled = false;
                bubbleInterval = setInterval(createBubble, 700);
            }

            function stopBubbleGame(){
                bubbleRunning = false;
                bubblePlayBtn.disabled = false;
                bubbleResetBtn.disabled = true;
                clearInterval(bubbleInterval);
                bubbles.forEach(bubble => {
                    if(bubble.parentNode) bubbleGame.removeChild(bubble);
                });
                bubbles = [];
            }

            bubblePlayBtn.addEventListener('click', startBubbleGame);
            bubbleResetBtn.addEventListener('click', () => {
                stopBubbleGame();
                startBubbleGame();
            });

            // Music player controls
            const musicUrlInput = document.getElementById('music-url');
            const loadMusicBtn = document.getElementById('load-music');
            const musicContainer = document.getElementById('music-container');
            let currentIframe = null;

            // Load default Fake Love instrumental (YouTube embed URL)
            const defaultEmbedUrl = "https://www.youtube.com/embed/fnCSI0btU1E?autoplay=1&controls=1&loop=1&playlist=fnCSI0btU1E";
            
            function loadMusic(src) {
                musicContainer.innerHTML = '';
                const iframe = document.createElement('iframe');
                iframe.setAttribute('src', src);
                iframe.setAttribute('width', '100%');
                iframe.setAttribute('height', '80');
                iframe.setAttribute('frameborder', '0');
                iframe.setAttribute('allow', 'autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture');
                iframe.setAttribute('allowfullscreen', '');
                musicContainer.appendChild(iframe);
                currentIframe = iframe;
            }
            
            loadMusic(defaultEmbedUrl);
            
            loadMusicBtn.addEventListener('click', () => {
                const url = musicUrlInput.value.trim();
                let embedUrl = '';
                
                if (url.includes("youtube.com") || url.includes("youtu.be")) {
                    let videoId = "";
                    
                    if (url.includes("youtu.be/")) {
                        videoId = url.split("youtu.be/")[1];
                    } else if (url.includes("v=")) {
                        const urlParams = new URLSearchParams(url.split('?')[1]);
                        videoId = urlParams.get('v');
                    }
                    
                    if (videoId) {
                        embedUrl = `https://www.youtube.com/embed/${videoId}?autoplay=1&controls=1`;
                    } else {
                        alert("Kh√¥ng t√¨m th·∫•y video YouTube h·ª£p l·ªá!");
                        return;
                    }
                } else if (url.includes('open.spotify.com')) {
                    try {
                        const urlObj = new URL(url);
                        const parts = urlObj.pathname.split('/');
                        if(parts.length >= 3){
                            const type = parts[1];
                            const id = parts[2];
                            embedUrl = `https://open.spotify.com/embed/${type}/${id}`;
                        }
                    } catch {
                        alert('URL Spotify kh√¥ng h·ª£p l·ªá.');
                        return;
                    }
                } else {
                    alert('Ch·ªâ h·ªó tr·ª£ URL YouTube v√† Spotify.');
                    return;
                }

                if(embedUrl){
                    loadMusic(embedUrl);
                }
            });
        </script>
    </body>
</html>
